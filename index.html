<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Number Location Tracker ‚Äì Track Any Phone Number Instantly</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Roboto+Mono:wght@300;400;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #00ff41;
            --secondary: #00d9ff;
            --accent: #ff0055;
            --dark: #0a0e17;
            --darker: #05080f;
            --card: #111827;
            --border: #1a2332;
            --text: #e0e6ed;
            --text-dim: #6b7280;
            --glow: rgba(0, 255, 65, 0.3);
        }

        body {
            font-family: 'Roboto Mono', monospace;
            background: var(--darker);
            color: var(--text);
            overflow-x: hidden;
            line-height: 1.6;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 255, 65, 0.03) 0px,
                transparent 1px,
                transparent 2px,
                rgba(0, 255, 65, 0.03) 3px
            );
            pointer-events: none;
            z-index: 1000;
            animation: scanline 8s linear infinite;
        }

        @keyframes scanline {
            0% { transform: translateY(0); }
            100% { transform: translateY(10px); }
        }

        #canvas-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        header {
            background: var(--card);
            border: 1px solid var(--primary);
            border-radius: 2px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 0 20px var(--glow), inset 0 0 20px rgba(0, 255, 65, 0.05);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            animation: scan 3s linear infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .terminal-bar {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            font-size: 0.8em;
            color: var(--text-dim);
        }

        .terminal-bar span {
            margin-right: 15px;
        }

        h1 {
            font-family: 'Share Tech Mono', monospace;
            font-size: 3em;
            color: var(--primary);
            text-shadow: 0 0 10px var(--glow);
            letter-spacing: 2px;
            margin-bottom: 5px;
        }

        .tagline {
            font-size: 0.9em;
            color: var(--text-dim);
            letter-spacing: 1px;
        }

        .product-section {
            display: grid;
            grid-template-columns: 1.2fr 1fr;
            gap: 40px;
            margin-bottom: 60px;
            background: var(--card);
            border: 1px solid var(--border);
            padding: 40px;
            position: relative;
        }

        .product-section::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            opacity: 0.5;
        }

        .product-section.full-width {
            grid-column: 1 / -1;
        }

        .product-info h2 {
            font-family: 'Share Tech Mono', monospace;
            font-size: 2em;
            color: var(--primary);
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .product-info p {
            font-size: 0.9em;
            color: var(--text-dim);
            margin-bottom: 25px;
        }

        .features {
            margin: 20px 0;
        }

        .feature-item {
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
            font-size: 0.85em;
            color: var(--text);
            display: flex;
            align-items: center;
            transition: all 0.3s;
        }

        .feature-item:hover {
            color: var(--primary);
            border-color: var(--primary);
        }

        .feature-item::before {
            content: '>';
            color: var(--primary);
            margin-right: 10px;
            font-weight: bold;
        }

        .terminal-window {
            background: #000;
            border: 1px solid var(--primary);
            position: relative;
            height: 450px;
            box-shadow: 0 0 30px rgba(0, 255, 65, 0.2);
        }

        .terminal-header {
            background: var(--border);
            padding: 8px 15px;
            border-bottom: 1px solid var(--primary);
            font-size: 0.75em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .terminal-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--primary);
            box-shadow: 0 0 5px var(--glow);
        }

        #typing-canvas {
            width: 100%;
            height: calc(100% - 35px);
            display: block;
        }

        .pricing-section {
            margin-top: 30px;
        }

        .pricing-section h3 {
            font-size: 1.2em;
            color: var(--text);
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .price-card {
            background: var(--darker);
            border: 1px solid var(--border);
            padding: 25px;
            position: relative;
            transition: all 0.3s;
            text-align: center;
        }

        .price-card:hover {
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.2);
            transform: translateY(-5px);
        }

        .price-card.featured {
            border-color: var(--secondary);
        }

        .price-badge {
            position: absolute;
            top: -10px;
            right: 20px;
            background: var(--secondary);
            color: var(--darker);
            padding: 5px 15px;
            font-size: 0.7em;
            font-weight: bold;
        }

        .package-name {
            font-size: 1.5em;
            color: var(--primary);
            margin-bottom: 15px;
            text-transform: uppercase;
        }

        .price {
            font-size: 2.5em;
            color: var(--secondary);
            font-weight: bold;
            margin: 20px 0;
        }

        .package-features {
            list-style: none;
            padding: 0;
            margin: 20px 0;
            text-align: left;
        }

        .package-features li {
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
            font-size: 0.9em;
        }

        .package-features li::before {
            content: '‚úì ';
            color: var(--primary);
            margin-right: 8px;
        }

        .payment-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .buy-btn {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .buy-btn:hover {
            background: var(--primary);
            color: var(--darker);
        }

        .cta-button {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 15px 40px;
            font-size: 1.2em;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            text-transform: uppercase;
            font-family: 'Roboto Mono', monospace;
        }

        .cta-button:hover {
            background: var(--primary);
            color: var(--darker);
            box-shadow: 0 0 30px var(--glow);
        }

        .back-button {
            background: transparent;
            border: 1px solid var(--secondary);
            color: var(--secondary);
            padding: 10px 20px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            font-family: 'Roboto Mono', monospace;
        }

        .back-button:hover {
            background: var(--secondary);
            color: var(--darker);
        }

        .upload-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .upload-box {
            border: 2px dashed var(--border);
            padding: 40px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }

        .upload-box:hover {
            border-color: var(--primary);
            background: rgba(0, 255, 65, 0.05);
        }

        .upload-box input {
            display: none;
        }

        .uploaded-files {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .file-preview {
            position: relative;
            border: 1px solid var(--border);
            overflow: hidden;
        }

        .file-preview img,
        .file-preview video {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
        }

        .remove-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--accent);
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 0.8em;
        }

        .crypto-input {
            width: 100%;
            padding: 12px;
            background: #000;
            border: 1px solid var(--border);
            color: var(--text);
            font-family: 'Roboto Mono', monospace;
            font-size: 0.9em;
            margin-bottom: 10px;
            outline: none;
        }

        .crypto-input:focus {
            border-color: var(--primary);
        }

        select.crypto-input {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%2300ff41' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            padding-right: 35px;
        }

        textarea.crypto-input {
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: var(--primary);
            margin-bottom: 8px;
            text-transform: uppercase;
            font-size: 0.9em;
        }

        .rating-stars {
            display: flex;
            gap: 10px;
        }

        .star {
            cursor: pointer;
            transition: all 0.3s;
            width: 32px;
            height: 32px;
        }

        .star:hover {
            transform: scale(1.2);
        }

        .submit-button {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 12px 30px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            text-transform: uppercase;
            font-family: 'Roboto Mono', monospace;
        }

        .submit-button:hover:not(:disabled) {
            background: var(--primary);
            color: var(--darker);
        }

        .submit-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .messages-list {
            display: flex;
            flex-direction: column;
            gap: 25px;
            margin-top: 30px;
        }

        .message-card {
            background: var(--darker);
            border: 1px solid var(--border);
            padding: 25px;
            transition: all 0.3s;
        }

        .message-card:hover {
            border-color: var(--secondary);
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .message-author strong {
            color: var(--primary);
            margin-right: 10px;
        }

        .country-badge {
            background: rgba(0, 217, 255, 0.1);
            border: 1px solid var(--secondary);
            color: var(--secondary);
            padding: 3px 10px;
            font-size: 0.8em;
            margin-right: 10px;
        }

        .message-date {
            font-size: 0.75em;
            color: var(--text-dim);
        }

        .message-rating {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
        }

        .message-rating svg {
            width: 16px;
            height: 16px;
        }

        .message-text {
            color: var(--text);
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .admin-reply {
            background: rgba(0, 255, 65, 0.05);
            padding: 15px;
            margin-top: 15px;
            border-left: 3px solid var(--primary);
        }

        .reply-badge {
            display: inline-block;
            background: var(--primary);
            color: var(--darker);
            padding: 3px 10px;
            font-size: 0.7em;
            font-weight: bold;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .reply-form {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .reply-button {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 12px 20px;
            cursor: pointer;
        }

        .reply-button:hover {
            background: var(--primary);
            color: var(--darker);
        }

        .delete-btn {
            background: transparent;
            border: 1px solid var(--accent);
            color: var(--accent);
            padding: 8px 12px;
            cursor: pointer;
        }

        .delete-btn:hover {
            background: var(--accent);
            color: white;
        }

        .admin-info-box {
            background: rgba(0, 217, 255, 0.1);
            border: 1px solid var(--secondary);
            padding: 20px;
            margin-bottom: 30px;
            font-size: 0.9em;
        }

        .admin-info-box code {
            background: #000;
            padding: 3px 8px;
            color: var(--primary);
        }

        .admin-info-box .warning {
            color: var(--accent);
            font-weight: bold;
            margin-top: 15px;
        }

        .empty-state {
            text-align: center;
            padding: 60px;
            color: var(--text-dim);
        }

        footer {
            text-align: center;
            padding: 30px;
            margin-top: 60px;
            border-top: 1px solid var(--border);
            color: var(--text-dim);
            font-size: 0.8em;
        }

        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); }
        }

        .glitch {
            animation: glitch 0.3s infinite;
        }

        @media (max-width: 1200px) {
            .product-section {
                grid-template-columns: 1fr;
            }
            .pricing-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }
            .product-info h2 {
                font-size: 1.5em;
            }
            .upload-section,
            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <canvas id="canvas-bg"></canvas>
    
    <div class="container">
        <!-- HOME PAGE -->
        <div id="home-page" class="page active">
            <header>
                <div class="terminal-bar">
                    <span>Developed By</span>
                    <span>~</span>
                    <span class="glitch">kanop Group</span>
                </div>
                <h1>MOBILE TRACKER</h1>
                <p class="tagline">// Advanced Location Intelligence System v2.0</p>
            </header>

            <!-- Media Upload Section -->
            <div class="product-section">
                <div class="product-info">
                    <h2>üì∏ Media Gallery</h2>
                    <p>Upload demonstration images and videos showcasing our tracking capabilities</p>

                    <div class="upload-section">
                        <div class="upload-box" onclick="document.getElementById('image-upload').click()">
                            <p style="font-size: 2em;">üì∑</p>
                            <p>Upload Images (Max 2)</p>
                            <input id="image-upload" type="file" accept="image/*" multiple onchange="handleImageUpload(event)">
                        </div>
                        <div class="upload-box" onclick="document.getElementById('video-upload').click()">
                            <p style="font-size: 2em;">üé•</p>
                            <p>Upload Video (Max 1)</p>
                            <input id="video-upload" type="file" accept="video/*" onchange="handleVideoUpload(event)">
                        </div>
                    </div>

                    <div id="uploaded-files" class="uploaded-files"></div>
                </div>

                <div class="terminal-window">
                    <div class="terminal-header">
                        <div class="terminal-dot"></div>
                        <span>terminal@mobile_tracker-master</span>
                    </div>
                    <canvas id="typing-canvas"></canvas>
                </div>
            </div>

            <!-- Pricing Section -->
            <div class="product-section" style="grid-template-columns: 1fr;">
                <div class="product-info">
                    <h2>üí∞ Real-time GSM/GPS Triangulation Engine</h2>
                    <p>Instantly locate a mobile device using its phone number. Provides approximate location on a map with real-time updates.</p>

                    <div class="features">
                        <div class="feature-item">Real-time location monitoring</div>
                        <div class="feature-item">Unlimited location tracking</div>
                        <div class="feature-item">Locate a phone using only its number</div>
                        <div class="feature-item">Full TypeScript support</div>
                    </div>

                    <div class="pricing-section">
                        <h3>SELECT_PACKAGE</h3>
                        <div class="pricing-grid">
                            <div class="price-card">
                                <div class="package-name">Basic</div>
                                <div class="price">$200</div>
                                <ul class="package-features">
                                    <li>Maximum 100 numbers</li>
                                    <li>One device only</li>
                                    <li>Instant Download</li>
                                </ul>
                                <div class="payment-buttons">
                                    <button class="buy-btn" onclick="initPayment('basic', 'btc')">BTC</button>
                                    <button class="buy-btn" onclick="initPayment('basic', 'usdttrc20')">USDT</button>
                                    <button class="buy-btn" onclick="initPayment('basic', 'xmr')">XMR</button>
                                </div>
                            </div>

                            <div class="price-card featured">
                                <div class="price-badge">POPULAR</div>
                                <div class="package-name">Standard</div>
                                <div class="price">$600</div>
                                <ul class="package-features">
                                    <li>Maximum 500 numbers</li>
                                    <li>One device only</li>
                                    <li>Instant Download</li>
                                </ul>
                                <div class="payment-buttons">
                                    <button class="buy-btn" onclick="initPayment('standard', 'btc')">BTC</button>
                                    <button class="buy-btn" onclick="initPayment('standard', 'usdttrc20')">USDT</button>
                                    <button class="buy-btn" onclick="initPayment('standard', 'xmr')">XMR</button>
                                </div>
                            </div>

                            <div class="price-card">
                                <div class="package-name">Premium</div>
                                <div class="price">$1500</div>
                                <ul class="package-features">
                                    <li>Unlimited Numbers</li>
                                    <li>Unlimited Devices</li>
                                    <li>Instant Download</li>
                                </ul>
                                <div class="payment-buttons">
                                    <button class="buy-btn" onclick="initPayment('premium', 'btc')">BTC</button>
                                    <button class="buy-btn" onclick="initPayment('premium', 'usdttrc20')">USDT</button>
                                    <button class="buy-btn" onclick="initPayment('premium', 'xmr')">XMR</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin: 60px 0;">
                <button class="cta-button" onclick="showPage('message')">
                    üí¨ Public Chat & Reviews
                </button>
            </div>

            <footer>
                <p>¬© 2025 kanop // ALL RIGHTS RESERVED</p>
                <p>SECURE_PAYMENT ‚Ä¢ INSTANT_DOWNLOAD</p>
            </footer>
        </div>

        <!-- MESSAGE PAGE -->
        <div id="message-page" class="page">
            <button class="back-button" onclick="showPage('home')">
                ‚Üê Back to Home
            </button>

            <header>
                <h1>PUBLIC CHAT & REVIEWS</h1>
                <p class="tagline" id="message-count">// Community Feedback (0/50 messages)</p>
            </header>

            <!-- Message Form -->
            <div class="product-section" style="grid-template-columns: 1fr;">
                <form id="message-form" onsubmit="submitMessage(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Name *</label>
                            <input type="text" id="msg-name" class="crypto-input" placeholder="Enter your name" required>
                        </div>
                        <div class="form-group">
                            <label>Country *</label>
                            <select id="msg-country" class="crypto-input" required>
                                <option value="">Select your country</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Message / Review *</label>
                        <textarea id="msg-text" class="crypto-input" rows="4" placeholder="Share your thoughts or ask a question..." required></textarea>
                    </div>

                    <div class="form-group">
                        <label>Rate Your Experience</label>
                        <div class="rating-stars" id="rating-stars">
                            <span class="star" data-rating="1" onclick="setRating(1)">‚òÜ</span>
                            <span class="star" data-rating="2" onclick="setRating(2)">‚òÜ</span>
                            <span class="star" data-rating="3" onclick="setRating(3)">‚òÜ</span>
                            <span class="star" data-rating="4" onclick="setRating(4)">‚òÜ</span>
                            <span class="star" data-rating="5" onclick="setRating(5)">‚òÜ</span>
                        </div>
                    </div>

                    <button type="submit" class="submit-button">
                        üì§ Post Message
                    </button>
                </form>
            </div>

            <!-- Messages Display -->
            <div class="product-section" style="grid-template-columns: 1fr;">
                <div>
                    <h2 style="color: var(--primary); margin-bottom: 20px;">Community Messages & Reviews</h2>
                    <div id="messages-list" class="messages-list"></div>
                </div>
            </div>

            <footer>
                <p>¬© 2025 kanop // ALL RIGHTS RESERVED</p>
                <p>SECURE_PAYMENT ‚Ä¢ INSTANT_DOWNLOAD</p>
            </footer>
        </div>

        <!-- ADMIN PAGE -->
        <div id="admin-page" class="page">
            <button class="back-button" onclick="showPage('home')">
                ‚Üê Back to Home
            </button>

            <header>
                <h1>ADMIN PANEL</h1>
                <p class="tagline" id="admin-message-count">// Message Management System (0/50 messages)</p>
            </header>

            <div class="admin-info-box">
                <p><strong>Admin URL:</strong> Add <code>?admin=kanop-secure-2025</code> to your site URL</p>
                <p><strong>Example:</strong> yoursite.github.io?admin=kanop-secure-2025</p>
                <p class="warning">‚ö†Ô∏è Keep this URL private and change the access code in production!</p>
            </div>

            <div class="product-section" style="grid-template-columns: 1fr;">
                <div id="admin-messages-list" class="messages-list"></div>
            </div>
        </div>
    </div>

    <script>
        // Configuration
        const MAX_MESSAGES = 50;
        const ADMIN_CODE = 'kanop-secure-2025'; // CHANGE THIS IN PRODUCTION!
        const NOWPAYMENTS_API_KEY = 'YOUR_NOWPAYMENTS_API_KEY_HERE'; // Add your API key

        // State
        let uploadedFiles = { images: [], video: null };
        let messages = [];
        let currentRating = 0;

        // Countries list
        const countries = ['Afghanistan', 'Albania', 'Algeria', 'Andorra', 'Angola', 'Argentina', 'Armenia', 'Australia', 'Austria', 'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium', 'Belize', 'Benin', 'Bhutan', 'Bolivia', 'Bosnia and Herzegovina', 'Botswana', 'Brazil', 'Brunei', 'Bulgaria', 'Burkina Faso', 'Burundi', 'Cambodia', 'Cameroon', 'Canada', 'Cape Verde', 'Central African Republic', 'Chad', 'Chile', 'China', 'Colombia', 'Comoros', 'Congo', 'Costa Rica', 'Croatia', 'Cuba', 'Cyprus', 'Czech Republic', 'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Ethiopia', 'Fiji', 'Finland', 'France', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Greece', 'Grenada', 'Guatemala', 'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'Honduras', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran', 'Iraq', 'Ireland', 'Israel', 'Italy', 'Jamaica', 'Japan', 'Jordan', 'Kazakhstan', 'Kenya', 'Kiribati', 'North Korea', 'South Korea', 'Kuwait', 'Kyrgyzstan', 'Laos', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Liechtenstein', 'Lithuania', 'Luxembourg', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands', 'Mauritania', 'Mauritius', 'Mexico', 'Micronesia', 'Moldova', 'Monaco', 'Mongolia', 'Montenegro', 'Morocco', 'Mozambique', 'Myanmar', 'Namibia', 'Nauru', 'Nepal', 'Netherlands', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Norway', 'Oman', 'Pakistan', 'Palau', 'Palestine', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Poland', 'Portugal', 'Qatar', 'Romania', 'Russia', 'Rwanda', 'Saint Lucia', 'Samoa', 'San Marino', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone', 'Singapore', 'Slovakia', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa', 'South Sudan', 'Spain', 'Sri Lanka', 'Sudan', 'Suriname', 'Sweden', 'Switzerland', 'Syria', 'Taiwan', 'Tajikistan', 'Tanzania', 'Thailand', 'Togo', 'Tonga', 'Trinidad and Tobago', 'Tunisia', 'Turkey', 'Turkmenistan', 'Tuvalu', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom', 'United States', 'Uruguay', 'Uzbekistan', 'Vanuatu', 'Vatican City', 'Venezuela', 'Vietnam', 'Yemen', 'Zambia', 'Zimbabwe'];

        // Initialize
        window.onload = function() {
            initMatrixBackground();
            initTerminalAnimation();
            populateCountries();
            loadMessages();
            loadFiles();
            
            // Check for admin access
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('admin') === ADMIN_CODE) {
                showPage('admin');
            }
        };

        // Matrix Background
        function initMatrixBackground() {
            const canvas = document.getElementById('canvas-bg');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz<>{}[]()';
            const fontSize = 14;
            const columns = canvas.width / fontSize;
            const drops = Array(Math.floor(columns)).fill(1);

            function drawMatrix() {
                ctx.fillStyle = 'rgba(5, 8, 15, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = '#00ff41';
                ctx.font = fontSize + 'px Share Tech Mono';

                for (let i = 0; i < drops.length; i++) {
                    const text = chars[Math.floor(Math.random() * chars.length)];
                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                    if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    drops[i]++;
                }
            }

            setInterval(drawMatrix, 33);

            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        }

        // Terminal Animation (from original template)
        function initTerminalAnimation() {
            const canvas = document.getElementById('typing-canvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;

            let frame = 0;
            let animationPhase = 0;
            let phaseTimer = 0;
            const PHASE_DURATIONS = [60, 90, 120, 90, 60];

            const phone = { x: canvas.width / 2, y: canvas.height / 2, vibrate: 0, scale: 1 };
            let signalWaves = [];
            const towers = [
                { x: canvas.width * 0.2, y: canvas.height * 0.3, active: false, rotation: 0 },
                { x: canvas.width * 0.8, y: canvas.height * 0.3, active: false, rotation: 0 },
                { x: canvas.width * 0.5, y: canvas.height * 0.15, active: false, rotation: 0 }
            ];

            let radarAngle = 0;
            let radarDots = [];
            for (let i = 0; i < 20; i++) {
                radarDots.push({
                    angle: Math.random() * Math.PI * 2,
                    distance: 50 + Math.random() * 100,
                    size: 2 + Math.random() * 3
                });
            }

            const mapPoints = [
                { x: 0.3, y: 0.4, active: false },
                { x: 0.6, y: 0.5, active: false },
                { x: 0.45, y: 0.6, active: false, target: true }
            ];
            let targetFound = false;

            class SignalWave {
                constructor() {
                    this.radius = 0;
                    this.maxRadius = 200;
                    this.opacity = 1;
                    this.speed = 3;
                }
                update() {
                    this.radius += this.speed;
                    this.opacity = 1 - (this.radius / this.maxRadius);
                }
                draw() {
                    ctx.globalAlpha = this.opacity;
                    ctx.strokeStyle = '#00d9ff';
                    ctx.lineWidth = 3;
                    ctx.beginPath();
                    ctx.arc(phone.x, phone.y, this.radius, 0, Math.PI * 2);
                    ctx.stroke();
                    ctx.globalAlpha = 1;
                }
            }

            function drawPhone() {
                ctx.save();
                ctx.translate(phone.x + phone.vibrate, phone.y);
                ctx.scale(phone.scale, phone.scale);
                ctx.fillStyle = '#1a2332';
                ctx.strokeStyle = '#00ff41';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.roundRect(-30, -50, 60, 100, 10);
                ctx.fill();
                ctx.stroke();
                ctx.fillStyle = '#000';
                ctx.fillRect(-25, -45, 50, 70);
                if (animationPhase === 1 || animationPhase === 2) {
                    ctx.fillStyle = '#00ff41';
                    ctx.globalAlpha = 0.3 + Math.sin(frame * 0.2) * 0.2;
                    ctx.fillRect(-25, -45, 50, 70);
                    ctx.globalAlpha = 1;
                }
                if (animationPhase >= 1) {
                    for (let i = 0; i < 4; i++) {
                        const height = (i + 1) * 5;
                        ctx.fillStyle = i < 3 ? '#00ff41' : '#00d9ff';
                        ctx.fillRect(-15 + i * 8, -35 - height, 5, height);
                    }
                }
                ctx.strokeStyle = '#00ff41';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(0, 35, 8, 0, Math.PI * 2);
                ctx.stroke();
                ctx.restore();
            }

            function drawTowers() {
                towers.forEach((tower) => {
                    ctx.save();
                    ctx.translate(tower.x, tower.y);
                    ctx.fillStyle = tower.active ? '#00ff41' : '#1a2332';
                    ctx.strokeStyle = tower.active ? '#00ff41' : '#00d9ff';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.arc(0, 0, 15, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.moveTo(0, -15);
                    ctx.lineTo(0, -35);
                    ctx.stroke();
                    if (tower.active) {
                        for (let j = 0; j < 3; j++) {
                            ctx.globalAlpha = 0.5 - j * 0.15;
                            ctx.beginPath();
                            ctx.arc(0, 0, 20 + j * 10 + (frame % 20), 0, Math.PI * 2);
                            ctx.stroke();
                        }
                        ctx.globalAlpha = 1;
                    }
                    if (animationPhase === 2) {
                        tower.rotation += 0.05;
                        ctx.rotate(tower.rotation);
                        ctx.strokeStyle = '#00d9ff';
                        ctx.beginPath();
                        ctx.moveTo(-10, 0);
                        ctx.lineTo(10, 0);
                        ctx.moveTo(0, -10);
                        ctx.lineTo(0, 10);
                        ctx.stroke();
                    }
                    ctx.restore();
                });
            }

            function drawRadar() {
                ctx.save();
                ctx.translate(phone.x, phone.y);
                ctx.strokeStyle = '#00d9ff';
                ctx.lineWidth = 2;
                for (let i = 1; i <= 3; i++) {
                    ctx.beginPath();
                    ctx.arc(0, 0, i * 50, 0, Math.PI * 2);
                    ctx.stroke();
                }
                ctx.strokeStyle = '#00ff41';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(0, 0);
                ctx.lineTo(Math.cos(radarAngle) * 150, Math.sin(radarAngle) * 150);
                ctx.stroke();
                const gradient = ctx.createRadialGradient(0, 0, 0, 0, 0, 150);
                gradient.addColorStop(0, 'rgba(0, 255, 65, 0.3)');
                gradient.addColorStop(1, 'rgba(0, 255, 65, 0)');
                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.moveTo(0, 0);
                ctx.arc(0, 0, 150, radarAngle - 0.5, radarAngle);
                ctx.fill();
                radarDots.forEach(dot => {
                    const x = Math.cos(dot.angle) * dot.distance;
                    const y = Math.sin(dot.angle) * dot.distance;
                    ctx.fillStyle = '#00d9ff';
                    ctx.beginPath();
                    ctx.arc(x, y, dot.size, 0, Math.PI * 2);
                    ctx.fill();
                    if (Math.abs(dot.angle - radarAngle) < 0.5) {
                        ctx.strokeStyle = '#00ff41';
                        ctx.globalAlpha = 0.3;
                        ctx.beginPath();
                        ctx.moveTo(0, 0);
                        ctx.lineTo(x, y);
                        ctx.stroke();
                        ctx.globalAlpha = 1;
                    }
                });
                radarAngle += 0.05;
                ctx.restore();
            }

            function drawMap() {
                ctx.strokeStyle = 'rgba(0, 217, 255, 0.2)';
                ctx.lineWidth = 1;
                for (let i = 0; i < 10; i++) {
                    ctx.beginPath();
                    ctx.moveTo(i * (canvas.width / 10), 0);
                    ctx.lineTo(i * (canvas.width / 10), canvas.height);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.moveTo(0, i * (canvas.height / 10));
                    ctx.lineTo(canvas.width, i * (canvas.height / 10));
                    ctx.stroke();
                }
                mapPoints.forEach((point) => {
                    const x = point.x * canvas.width;
                    const y = point.y * canvas.height;
                    if (point.active || animationPhase >= 3) {
                        ctx.fillStyle = point.target && targetFound ? '#00ff41' : '#ff0055';
                        ctx.strokeStyle = point.target && targetFound ? '#00ff41' : '#ff0055';
                        ctx.lineWidth = 2;
                        ctx.beginPath();
                        ctx.arc(x, y, 8, 0, Math.PI * 2);
                        ctx.fill();
                        ctx.beginPath();
                        ctx.moveTo(x, y);
                        ctx.lineTo(x - 8, y - 15);
                        ctx.lineTo(x + 8, y - 15);
                        ctx.closePath();
                        ctx.fill();
                        if (point.target && targetFound) {
                            const pulseSize = 15 + Math.sin(frame * 0.2) * 5;
                            ctx.globalAlpha = 0.3;
                            ctx.beginPath();
                            ctx.arc(x, y, pulseSize, 0, Math.PI * 2);
                            ctx.stroke();
                            ctx.globalAlpha = 1;
                        }
                        if (animationPhase === 4 && point.target) {
                            const phoneIconX = canvas.width * 0.2;
                            const phoneIconY = canvas.height * 0.3;
                            ctx.fillStyle = '#00d9ff';
                            ctx.fillRect(phoneIconX - 8, phoneIconY - 12, 16, 24);
                            ctx.strokeStyle = '#00ff41';
                            ctx.lineWidth = 2;
                            ctx.setLineDash([5, 5]);
                            ctx.beginPath();
                            ctx.moveTo(phoneIconX, phoneIconY);
                            ctx.lineTo(x, y);
                            ctx.stroke();
                            ctx.setLineDash([]);
                            ctx.fillStyle = '#00ff41';
                            ctx.beginPath();
                            ctx.moveTo(x + 20, y - 10);
                            ctx.lineTo(x + 30, y - 10);
                            ctx.lineTo(x + 30, y + 5);
                            ctx.lineTo(x + 25, y + 10);
                            ctx.lineTo(x + 20, y + 5);
                            ctx.closePath();
                            ctx.fill();
                            ctx.strokeStyle = '#000';
                            ctx.lineWidth = 2;
                            ctx.beginPath();
                            ctx.moveTo(x + 22, y);
                            ctx.lineTo(x + 24, y + 3);
                            ctx.lineTo(x + 28, y - 3);
                            ctx.stroke();
                        }
                    }
                });
            }

            function updateAnimation() {
                phaseTimer++;
                if (phaseTimer > PHASE_DURATIONS[animationPhase]) {
                    phaseTimer = 0;
                    animationPhase = (animationPhase + 1) % 5;
                    if (animationPhase === 0) {
                        signalWaves = [];
                        towers.forEach(t => t.active = false);
                        mapPoints.forEach(p => p.active = false);
                        targetFound = false;
                    }
                }
                switch(animationPhase) {
                    case 0:
                        phone.vibrate = phaseTimer === 30 ? Math.sin(frame) * 3 : 0;
                        phone.scale = 1 + (phaseTimer === 30 ? 0.1 : 0);
                        break;
                    case 1:
                        if (frame % 15 === 0) signalWaves.push(new SignalWave());
                        towers.forEach((tower, i) => {
                            if (phaseTimer > 20 + i * 15) tower.active = true;
                        });
                        break;
                    case 3:
                        mapPoints.forEach((point, i) => {
                            if (phaseTimer > 10 + i * 20) point.active = true;
                        });
                        if (phaseTimer > 70) targetFound = true;
                        break;
                }
            }

            function animate() {
                ctx.fillStyle = '#000';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                updateAnimation();
                if (animationPhase === 0 || animationPhase === 1) {
                    signalWaves = signalWaves.filter(w => w.radius < w.maxRadius);
                    signalWaves.forEach(w => { w.update(); w.draw(); });
                    drawTowers();
                    drawPhone();
                } else if (animationPhase === 2) {
                    drawRadar();
                    drawTowers();
                } else if (animationPhase >= 3) {
                    drawMap();
                }
                frame++;
                requestAnimationFrame(animate);
            }
            animate();
        }

        // Page Navigation
        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageName + '-page').classList.add('active');
            if (pageName === 'message') loadMessages();
            if (pageName === 'admin') loadAdminMessages();
        }

        // Populate Countries
        function populateCountries() {
            const select = document.getElementById('msg-country');
            countries.forEach(country => {
                const option = document.createElement('option');
                option.value = country;
                option.textContent = country;
                select.appendChild(option);
            });
        }

        // File Upload Handlers
        function handleImageUpload(event) {
            const files = Array.from(event.target.files);
            if (uploadedFiles.images.length + files.length > 2) {
                alert('Maximum 2 images allowed');
                return;
            }
            files.forEach(file => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    uploadedFiles.images.push({ name: file.name, data: e.target.result });
                    saveFiles();
                    displayFiles();
                };
                reader.readAsDataURL(file);
            });
        }

        function handleVideoUpload(event) {
            if (uploadedFiles.video) {
                alert('Maximum 1 video allowed');
                return;
            }
            const file = event.target.files[0];
            const reader = new FileReader();
            reader.onload = (e) => {
                uploadedFiles.video = { name: file.name, data: e.target.result };
                saveFiles();
                displayFiles();
            };
            reader.readAsDataURL(file);
        }

        function removeFile(type, index) {
            if (type === 'image') {
                uploadedFiles.images.splice(index, 1);
            } else {
                uploadedFiles.video = null;
            }
            saveFiles();
            displayFiles();
        }

        function displayFiles() {
            const container = document.getElementById('uploaded-files');
            container.innerHTML = '';
            uploadedFiles.images.forEach((img, idx) => {
                container.innerHTML += `
                    <div class="file-preview">
                        <img src="${img.data}" alt="${img.name}">
                        <button class="remove-btn" onclick="removeFile('image', ${idx})">‚úï</button>
                    </div>
                `;
            });
            if (uploadedFiles.video) {
                container.innerHTML += `
                    <div class="file-preview">
                        <video src="${uploadedFiles.video.data}" controls></video>
                        <button class="remove-btn" onclick="removeFile('video')">‚úï</button>
                    </div>
                `;
            }
        }

        function saveFiles() {
            localStorage.setItem('tracker-files', JSON.stringify(uploadedFiles));
        }

        function loadFiles() {
            const saved = localStorage.getItem('tracker-files');
            if (saved) {
                uploadedFiles = JSON.parse(saved);
                displayFiles();
            }
        }

        // Rating System
        function setRating(rating) {
            currentRating = rating;
            const stars = document.querySelectorAll('.star');
            stars.forEach((star, index) => {
                star.textContent = index < rating ? '‚òÖ' : '‚òÜ';
            });
        }

        // Message System
        function submitMessage(event) {
            event.preventDefault();
            const newMessage = {
                id: Date.now(),
                name: document.getElementById('msg-name').value,
                country: document.getElementById('msg-country').value,
                message: document.getElementById('msg-text').value,
                rating: currentRating,
                date: new Date().toISOString(),
                replies: []
            };
            messages.unshift(newMessage);
            if (messages.length > MAX_MESSAGES) {
                messages = messages.slice(0, MAX_MESSAGES);
            }
            saveMessages();
            document.getElementById('message-form').reset();
            setRating(0);
            loadMessages();
            alert('Message posted successfully!');
        }

        function saveMessages() {
            localStorage.setItem('tracker-messages', JSON.stringify(messages));
        }

        function loadMessages() {
            const saved = localStorage.getItem('tracker-messages');
            if (saved) {
                messages = JSON.parse(saved);
            }
            displayMessages();
            updateMessageCount();
        }

        function displayMessages() {
            const container = document.getElementById('messages-list');
            if (messages.length === 0) {
                container.innerHTML = '<div class="empty-state"><p style="font-size: 3em;">üí¨</p><p>No messages yet. Be the first to share your thoughts!</p></div>';
                return;
            }
            container.innerHTML = messages.map(msg => `
                <div class="message-card">
                    <div class="message-header">
                        <div>
                            <strong>${msg.name}</strong>
                            <span class="country-badge">üåç ${msg.country}</span>
                            <span class="message-date">${new Date(msg.date).toLocaleString()}</span>
                        </div>
                        ${msg.rating > 0 ? `
                            <div class="message-rating">
                                ${'‚òÖ'.repeat(msg.rating)}${'‚òÜ'.repeat(5 - msg.rating)}
                            </div>
                        ` : ''}
                    </div>
                    <p class="message-text">${msg.message}</p>
                    ${msg.replies && msg.replies.length > 0 ? `
                        <div>
                            ${msg.replies.map(reply => `
                                <div class="admin-reply">
                                    <div class="reply-badge">Admin Reply</div>
                                    <p>${reply.text}</p>
                                    <span class="message-date">${new Date(reply.date).toLocaleString()}</span>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        function updateMessageCount() {
            const count = messages.length;
            document.getElementById('message-count').textContent = `// Community Feedback (${count}/${MAX_MESSAGES} messages)`;
            const adminCount = document.getElementById('admin-message-count');
            if (adminCount) {
                adminCount.textContent = `// Message Management System (${count}/${MAX_MESSAGES} messages)`;
            }
        }

        // Admin Functions
        function loadAdminMessages() {
            const container = document.getElementById('admin-messages-list');
            if (messages.length === 0) {
                container.innerHTML = '<div class="empty-state"><p style="font-size: 3em;">üí¨</p><p>No messages to manage</p></div>';
                return;
            }
            container.innerHTML = messages.map((msg, index) => `
                <div class="message-card">
                    <div class="message-header">
                        <div>
                            <strong>${msg.name}</strong>
                            <span class="country-badge">üåç ${msg.country}</span>
                            <span class="message-date">${new Date(msg.date).toLocaleString()}</span>
                        </div>
                        <button class="delete-btn" onclick="deleteMessage(${index})">üóëÔ∏è Delete</button>
                    </div>
                    ${msg.rating > 0 ? `
                        <div class="message-rating">
                            ${'‚òÖ'.repeat(msg.rating)}${'‚òÜ'.repeat(5 - msg.rating)}
                        </div>
                    ` : ''}
                    <p class="message-text">${msg.message}</p>
                    ${msg.replies && msg.replies.length > 0 ? `
                        <div>
                            <h4 style="color: var(--secondary); font-size: 0.9em; margin: 15px 0 10px 0;">Your Replies:</h4>
                            ${msg.replies.map(reply => `
                                <div class="admin-reply">
                                    <p>${reply.text}</p>
                                    <span class="message-date">${new Date(reply.date).toLocaleString()}</span>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}
                    <div class="reply-form">
                        <input type="text" class="crypto-input" id="reply-${index}" placeholder="Type your public reply...">
                        <button class="reply-button" onclick="replyToMessage(${index})">üì§ Reply</button>
                    </div>
                </div>
            `).join('');
        }

        function deleteMessage(index) {
            if (confirm('Delete this message?')) {
                messages.splice(index, 1);
                saveMessages();
                loadAdminMessages();
                updateMessageCount();
            }
        }

        function replyToMessage(index) {
            const replyInput = document.getElementById(`reply-${index}`);
            const replyText = replyInput.value.trim();
            if (!replyText) return;
            
            if (!messages[index].replies) {
                messages[index].replies = [];
            }
            messages[index].replies.push({
                text: replyText,
                date: new Date().toISOString()
            });
            saveMessages();
            loadAdminMessages();
            alert('Reply posted successfully!');
        }

        // NowPayments Integration
        async function initPayment(packageType, crypto) {
            const prices = {
                'basic': 200,
                'standard': 600,
                'premium': 1500
            };

            // IMPORTANT: Replace with your actual NowPayments API key
            if (NOWPAYMENTS_API_KEY === 'YOUR_NOWPAYMENTS_API_KEY_HERE') {
                alert('Please configure your NowPayments API key first!\n\nEdit the NOWPAYMENTS_API_KEY variable in the HTML file.');
                return;
            }

            try {
                const response = await fetch('https://api.nowpayments.io/v1/payment', {
                    method: 'POST',
                    headers: {
                        'x-api-key': NOWPAYMENTS_API_KEY,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        price_amount: prices[packageType],
                        price_currency: 'usd',
                        pay_currency: crypto,
                        ipn_callback_url: window.location.origin + '/payment-callback',
                        order_id: `order_${Date.now()}`,
                        order_description: `Mobile Tracker ${packageType.charAt(0).toUpperCase() + packageType.slice(1)} Package`
                    })
                });

                const data = await response.json();
                
                if (data.invoice_url) {
                    // Redirect to payment page
                    window.location.href = data.invoice_url;
                } else {
                    alert('Payment initialization failed. Please try again.');
                    console.error('Payment error:', data);
                }
            } catch (error) {
                console.error('Payment error:', error);
                alert('Payment service temporarily unavailable. Please try again later.');
            }
        }
    </script>
</body>
</html>